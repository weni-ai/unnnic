import{u as _}from"./ToolTip-7d326e2a.js";import{d as V,f as a,m as b,l as g,t as d,p as v,e as x,o as y,u as C,O as T}from"./vue.esm-bundler-fb65849e.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";const h={name:"unnnic-slider",components:{unnnicTooltip:_},props:{initialValue:{type:Number,default:0},minValue:{type:Number,default:0},maxValue:{type:Number,default:5},step:{type:Number,default:1},minLabel:{type:String,default:""},maxLabel:{type:String,default:""}},data(){return{showTooltip:!1,sliderVal:this.initialValue,tooltipOffset:0,sliderWidth:0,labelWidth:0}},created(){window.addEventListener("resize",this.handleResize)},unmounted(){window.removeEventListener("resize",this.handleResize)},mounted(){const l=32+this.sliderVal.toString().length*4.5;this.sliderWidth=this.$refs.input.clientWidth,this.labelWidth=this.$refs.tooltip.$refs.label.clientWidth||l,this.tooltipOffset=this.getNewTooltipPosition()},watch:{sliderVal:{handler(){this.$nextTick(()=>{this.configureTooltip(),this.$refs["value-input"].textContent!==this.sliderVal&&(this.$refs["value-input"].textContent=this.sliderVal)})},immediate:!0,deep:!0}},methods:{configureTooltip(){this.sliderWidth=this.$refs.input.clientWidth,this.labelWidth=this.$refs.tooltip.$refs.label.clientWidth,this.tooltipOffset=this.getNewTooltipPosition()},handleResize(){this.configureTooltip()},handleValueChange(){this.configureTooltip(),this.$emit("valueChange",this.sliderVal)},handleInput(l){this.sliderVal=l.srcElement.textContent,this.handleValueChange()},getNewTooltipPosition(){const e=this.labelWidth/2,t=this.sliderWidth/2;let r=(this.sliderVal-this.minValue)/(this.maxValue-this.minValue);Number.isNaN(r)&&(r=0);const n=r*this.sliderWidth,i=(n-t)/t*6;return n-e-i}},computed:{cssVars(){return{"--val":this.sliderVal,"--tooltip-offset":this.tooltipOffset,"--min":this.minValue,"--max":this.maxValue}}}},S={class:"unnnic-slider__content"},N=["min","max","step"],w={class:"unnnic-slider__content__labels"},L={class:"unnnic-slider__content__labels__min"},O={class:"unnnic-slider__content__labels__max"};function P(l,e,t,r,n,s){const u=x("unnnicTooltip");return y(),V("div",{class:"unnnic-slider",style:v(s.cssVars)},[a("div",S,[b(u,{ref:"tooltip",class:"unnnic-slider__content__tooltip",text:n.sliderVal.toString(),"force-open":!0,enabled:n.showTooltip,side:"top"},{default:g(()=>[C(a("input",{ref:"input",class:"unnnic-slider__content__range-input","onUpdate:modelValue":e[0]||(e[0]=i=>n.sliderVal=i),type:"range",min:t.minValue,max:t.maxValue,step:t.step,onChange:e[1]||(e[1]=(...i)=>s.handleValueChange&&s.handleValueChange(...i)),onMouseover:e[2]||(e[2]=i=>n.showTooltip=!0),onMouseleave:e[3]||(e[3]=i=>n.showTooltip=!1)},null,40,N),[[T,n.sliderVal]])],void 0),_:1},8,["text","enabled"]),a("div",w,[a("div",L,d(t.minLabel),1),a("div",O,d(t.maxLabel),1)])]),a("div",{ref:"value-input",class:"value-input",contenteditable:"true",onInput:e[4]||(e[4]=(...i)=>s.handleInput&&s.handleInput(...i))},null,544)],4)}const f=W(h,[["render",P],["__scopeId","data-v-b1daf9a2"]]);h.__docgenInfo={displayName:"unnnic-slider",exportName:"default",description:"",tags:{},props:[{name:"initialValue",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"minValue",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"maxValue",type:{name:"number"},defaultValue:{func:!1,value:"5"}},{name:"step",type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"minLabel",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"maxLabel",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"valueChange",type:{names:["undefined"]}}],sourceFiles:["C:/Users/anacl/Documents/WENI/Front/unnnic/src/components/Slider/Slider.vue"]};const E={title:"Form/Slider",component:f},D=(l,{argTypes:e})=>({props:Object.keys(e),components:{unnnicSlider:f},template:'<unnnicSlider v-bind="$props" @valueChange="onChange"/>',methods:{onChange:t=>{console.log(t)}}}),o=D.bind({});o.args={initialValue:1,minValue:1,maxValue:4,step:1,minLabel:"1",maxLabel:"4"};var c,m,p;o.parameters={...o.parameters,docs:{...(c=o.parameters)==null?void 0:c.docs,source:{originalSource:`(args, {
  argTypes
}) => ({
  props: Object.keys(argTypes),
  components: {
    unnnicSlider
  },
  template: '<unnnicSlider v-bind="$props" @valueChange="onChange"/>',
  methods: {
    onChange: value => {
      console.log(value);
    }
  }
})`,...(p=(m=o.parameters)==null?void 0:m.docs)==null?void 0:p.source}}};const R=["Default"];export{o as Default,R as __namedExportsOrder,E as default};
