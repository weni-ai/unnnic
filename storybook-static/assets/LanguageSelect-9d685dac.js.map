{"version":3,"file":"LanguageSelect-9d685dac.js","sources":["../../src/components/Flag.vue","../../src/components/Dropdown/LanguageSelect.vue"],"sourcesContent":["<template>\n  <unnnic-icon-svg\n    :icon=\"name\"\n    :size=\"size\"\n  />\n</template>\n\n<script>\n/* eslint-disable global-require */\n/* eslint-disable import/no-dynamic-require */\nimport UnnnicIconSvg from './Icon.vue';\n\nexport default {\n  name: 'Flag',\n  components: {\n    UnnnicIconSvg,\n  },\n  props: {\n    code: {\n      type: String,\n      default: null,\n    },\n    size: {\n      type: String,\n      default: 'md',\n      validator(value) {\n        return ['nano', 'xs', 'sm', 'md', 'lg'].indexOf(value) !== -1;\n      },\n    },\n  },\n  computed: {\n    name() {\n      return {\n        'pt-br': 'Brazil',\n        en: 'USA',\n        es: 'Spain',\n      }[this.code];\n    },\n  },\n};\n</script>\n","<template>\r\n  <div\r\n    v-if=\"contracted\"\r\n    class=\"unnnic-language-select contracted\"\r\n    v-on-click-outside=\"onClickOutside\"\r\n  >\r\n    <div :class=\"['container contracted', { open }]\" @click=\"onClickTrigger\">\r\n      <div class=\"option\">\r\n        <unnnic-flag size=\"sm\" :code=\"val\" />\r\n      </div>\r\n\r\n      <div\r\n        v-for=\"language in otherLanguages\"\r\n        :key=\"language.id\"\r\n        class=\"option\"\r\n        @click=\"val = language.id\"\r\n      >\r\n        <unnnic-flag size=\"sm\" :code=\"language.id\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div v-else class=\"unnnic-language-select normal\" v-on-click-outside=\"onClickOutside\">\r\n    <div :class=\"['container normal', { open }]\" @click=\"onClickTrigger\">\r\n      <div\r\n        :style=\"{\r\n          position: 'absolute',\r\n          [position === 'bottom' ? 'top' : 'bottom']: -0.125 * unnnicFontSize + 'px',\r\n          width: '100%',\r\n          padding: 0.0625 * unnnicFontSize + 'px',\r\n          left: -0.0625 * unnnicFontSize + 'px',\r\n        }\"\r\n        class=\"all\"\r\n      >\r\n        <template v-if=\"position === 'bottom'\">\r\n          <div class=\"option\">\r\n            <unnnic-flag size=\"sm\" :code=\"val\" />\r\n\r\n            <div class=\"label\">{{ languages[val] }}</div>\r\n\r\n            <unnnic-icon size=\"xs\" :icon=\"dropdownIcon\" scheme=\"neutral-clean\" />\r\n          </div>\r\n\r\n          <div class=\"divider\"></div>\r\n        </template>\r\n\r\n        <div\r\n          class=\"option\"\r\n          v-for=\"language in otherLanguages\"\r\n          :key=\"language.id\"\r\n          @click=\"val = language.id\"\r\n        >\r\n          <unnnic-flag size=\"sm\" :code=\"language.id\" />\r\n\r\n          <div class=\"label\">{{ languages[language.id] }}</div>\r\n        </div>\r\n\r\n        <template v-if=\"position !== 'bottom'\">\r\n          <div class=\"divider\"></div>\r\n\r\n          <div class=\"option\">\r\n            <unnnic-flag size=\"sm\" :code=\"val\" />\r\n\r\n            <div class=\"label\">{{ languages[val] }}</div>\r\n\r\n            <unnnic-icon size=\"xs\" :icon=\"dropdownIcon\" scheme=\"neutral-clean\" />\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { vOnClickOutside } from '@vueuse/components';\r\nimport unnnicFlag from '../Flag.vue';\r\nimport UnnnicIcon from '../Icon.vue';\r\nimport { unnnicFontSize } from '../config';\r\n\r\nexport default {\r\n  name: 'LanguageSelect',\r\n  components: {\r\n    unnnicFlag,\r\n    UnnnicIcon,\r\n  },\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    position: {\r\n      type: String,\r\n      default: 'top-right',\r\n    },\r\n    contracted: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    supportedLanguages: {\r\n      type: Array,\r\n      default: () => ['pt-br', 'en'],\r\n    },\r\n  },\r\n  directives: {\r\n    onClickOutside: vOnClickOutside,\r\n  },\r\n  methods: {\r\n    onClickTrigger() {\r\n      this.open = !this.open;\r\n    },\r\n    onClickOutside() {\r\n      if (!this.open) return;\r\n      this.open = false;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      open: false,\r\n      val: this.value,\r\n      unnnicFontSize,\r\n    };\r\n  },\r\n  watch: {\r\n    val() {\r\n      this.$emit('input', this.val);\r\n    },\r\n    value() {\r\n      this.val = this.value;\r\n    },\r\n  },\r\n  computed: {\r\n    languages() {\r\n      const languages = {\r\n        'pt-br': 'Português - Brasil',\r\n        en: 'English',\r\n        es: 'Español',\r\n      };\r\n\r\n      return this.supportedLanguages.reduce(\r\n        (previous, current) => ({\r\n          ...previous,\r\n          [current]: languages[current],\r\n        }),\r\n        {},\r\n      );\r\n    },\r\n\r\n    otherLanguages() {\r\n      return this.languageList.filter(({ id }) => id !== this.val);\r\n    },\r\n    languageList() {\r\n      return Object.entries(this.languages).map(([id, name]) => ({ id, name }));\r\n    },\r\n\r\n    dropdownIcon() {\r\n      let side = '';\r\n\r\n      if (this.position === 'bottom') {\r\n        side = this.open ? 'up' : 'down';\r\n      } else {\r\n        side = this.open ? 'down' : 'up';\r\n      }\r\n\r\n      return `arrow-button-${side}-1`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../../assets/scss/unnnic.scss';\r\n\r\n.unnnic-language-select {\r\n  &.normal {\r\n    width: 100%;\r\n    height: $unnnic-font-size-body-md + $unnnic-line-height-md + 2 * $unnnic-spacing-stack-xs;\r\n    position: relative;\r\n  }\r\n\r\n  &.contracted {\r\n    width: $unnnic-inset-xs * 2 + $unnnic-icon-size-sm;\r\n    height: $unnnic-inset-xs * 2 + $unnnic-icon-size-sm;\r\n    position: relative;\r\n  }\r\n\r\n  .container.contracted {\r\n    display: flex;\r\n    border-radius: $unnnic-border-radius-pill;\r\n    padding: $unnnic-inset-xs;\r\n    background-color: $unnnic-color-background-snow;\r\n    width: $unnnic-inset-xs * 2 + $unnnic-icon-size-sm;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n    cursor: pointer;\r\n    position: absolute;\r\n\r\n    .option {\r\n      line-height: $unnnic-icon-size-sm;\r\n      width: $unnnic-icon-size-sm;\r\n      height: $unnnic-icon-size-sm;\r\n    }\r\n\r\n    .option:first-child {\r\n      margin-right: $unnnic-inline-md;\r\n    }\r\n\r\n    &.open {\r\n      padding: $unnnic-squish-xs;\r\n      width: auto;\r\n      box-shadow: $unnnic-shadow-level-near;\r\n    }\r\n  }\r\n\r\n  .container.normal {\r\n    border-radius: $unnnic-border-radius-pill;\r\n    background-color: $unnnic-color-background-snow;\r\n    min-width: 9 * $unnnic-font-size;\r\n    width: 100%;\r\n    height: $unnnic-font-size-body-md + $unnnic-line-height-md + 2 * $unnnic-spacing-stack-xs;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n    cursor: pointer;\r\n    position: relative;\r\n    border: $unnnic-border-width-thinner solid $unnnic-color-neutral-soft;\r\n\r\n    .option {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: $unnnic-squish-nano;\r\n\r\n      .label {\r\n        font-family: $unnnic-font-family-secondary;\r\n        font-size: $unnnic-font-size-body-md;\r\n        font-weight: $unnnic-font-weight-regular;\r\n        line-height: $unnnic-font-size-body-md + $unnnic-line-height-md;\r\n        color: $unnnic-color-neutral-dark;\r\n        margin-left: $unnnic-spacing-inline-xs;\r\n        margin-right: $unnnic-spacing-inline-nano;\r\n        flex: 1;\r\n      }\r\n    }\r\n\r\n    .divider {\r\n      height: $unnnic-border-width-thinner;\r\n      background: $unnnic-color-background-sky;\r\n      margin: $unnnic-spacing-stack-xs $unnnic-spacing-inline-sm;\r\n    }\r\n\r\n    &.open {\r\n      border-color: transparent;\r\n      overflow: initial;\r\n\r\n      .all {\r\n        border-radius: $unnnic-border-radius-sm;\r\n        background-color: $unnnic-color-background-snow;\r\n        box-shadow: $unnnic-shadow-level-near;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["_sfc_main","UnnnicIconSvg","value","_createBlock","_component_unnnic_icon_svg","$options","$props","unnnicFlag","UnnnicIcon","vOnClickOutside","unnnicFontSize","languages","previous","current","id","name","side","_hoisted_2","_hoisted_5","_hoisted_6","_createElementVNode","_hoisted_9","_hoisted_11","_hoisted_12","_withDirectives","_openBlock","_createElementBlock","_hoisted_1","$data","args","_createVNode","_component_unnnic_flag","_Fragment","_renderList","language","$event","_hoisted_4","_normalizeStyle","_toDisplayString","_component_unnnic_icon","_hoisted_7","_hoisted_10"],"mappings":"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"}