{"version":3,"file":"MultiSelect.stories-0321955c.js","sources":["../../src/components/MultiSelect/MultiSelect.vue"],"sourcesContent":["<template>\r\n  <div :class=\"expand ? 'expand-multiselect' : 'normal-multiselect'\" tabindex=\"-1\">\r\n    <span class=\"select-permission-label\" v-if=\"label\">{{ label }}</span>\r\n    <div\r\n      @keypress=\"handleIsOpenKeyboard\"\r\n      @click=\"active = !active\"\r\n      class=\"select-permission\"\r\n      tabindex=\"0\"\r\n    >\r\n      <h6 class=\"title noselect\">{{ inputTitle }}</h6>\r\n      <UnnnicIcon\r\n        :icon=\"active ? 'arrow-button-up-1' : 'arrow-button-down-1'\"\r\n        size=\"sm\"\r\n        scheme=\"neutral-dark\"\r\n      />\r\n    </div>\r\n    <div v-if=\"active\" class=\"select-content\" v-on-click-outside=\"onClickOutside\" tabindex=\"0\">\r\n      <div>\r\n        <template v-for=\"(group, indexGroup) in modelValue\" :key=\"`group-${indexGroup}`\">\r\n          <h6 v-if=\"!hideGroupTitle\" class=\"title\" :key=\"`title-${indexGroup}`\">\r\n            {{ group.title }}\r\n          </h6>\r\n          <section>\r\n            <template v-for=\"(item, indexItem) in group.items\" :key=\"`item-${indexItem}`\">\r\n              <div\r\n                @click=\"change(indexGroup, indexItem)\"\r\n                :key=\"indexItem + 'input'\"\r\n                v-if=\"hideRadio\"\r\n                class=\"unnnic-radio-container unnnic-radio-container--sm\"\r\n                style=\"cursor: pointer;\"\r\n              >\r\n                <strong>{{ item.title }}</strong>\r\n                <span>{{ item.description }}</span>\r\n              </div>\r\n              <UnnnicRadio\r\n                v-else\r\n                name=\"\"\r\n                :model-value=\"group.selected\"\r\n                @update:model-value=\"change(indexGroup, $event)\"\r\n                :value=\"indexItem\"\r\n                id=\"\"\r\n                size=\"sm\"\r\n                :key=\"'else' + indexItem + 'input'\"\r\n                class=\"\"\r\n              >\r\n                <strong>{{ item.title }}</strong>\r\n                <span>{{ item.description }}</span>\r\n              </UnnnicRadio>\r\n            </template>\r\n          </section>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { vOnClickOutside } from '@vueuse/components';\r\nimport UnnnicIcon from '../Icon.vue';\r\nimport UnnnicRadio from '../Radio/Radio.vue';\r\n\r\nexport default {\r\n  name: 'UnnnicMultiSelect',\r\n  components: {\r\n    UnnnicIcon,\r\n    UnnnicRadio,\r\n  },\r\n  directives: {\r\n    onClickOutside: vOnClickOutside,\r\n  },\r\n  props: {\r\n    isOpen: {\r\n      default: false,\r\n    },\r\n    expand: {\r\n      default: false,\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    modelValue: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    inputTitle: {\r\n      type: String,\r\n      default: 'Teste',\r\n    },\r\n    hideRadio: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    hideGroupTitle: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    unselectable: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      active: false,\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    isOpen() {\r\n      this.active = this.open;\r\n    },\r\n  },\r\n  methods: {\r\n    handleIsOpenKeyboard(event) {\r\n      if (document.querySelector('.select-permission:focus-visible') && event.keyCode === 32) {\r\n        this.active = !this.active;\r\n      }\r\n    },\r\n\r\n    onClickOutside() {\r\n      if (!this.active) return;\r\n      this.active = false;\r\n    },\r\n\r\n    change(indexGroup, indexSelected) {\r\n      this.$emit(\r\n        'update:model-value',\r\n        this.modelValue.map((item, index) => {\r\n          if (index === indexGroup) {\r\n            let selected = indexSelected;\r\n            if (this.unselectable && item.selected === indexSelected) {\r\n              selected = -1;\r\n            }\r\n            return { ...item, selected };\r\n          }\r\n\r\n          return item;\r\n        }),\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../assets/scss/unnnic.scss';\r\n\r\n.normal-multiselect,\r\n.expand-multiselect {\r\n  user-select: none;\r\n}\r\n\r\n.normal-multiselect {\r\n  position: relative;\r\n  max-width: 319px;\r\n\r\n  .select-content {\r\n    max-width: 319px;\r\n  }\r\n}\r\n\r\n.expand-multiselect {\r\n  position: relative;\r\n  width: 100%;\r\n\r\n  .select-content {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n.noselect {\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n  -webkit-user-select: none; /* Safari */\r\n  -khtml-user-select: none; /* Konqueror HTML */\r\n  -moz-user-select: none; /* Old versions of Firefox */\r\n  -ms-user-select: none; /* Internet Explorer/Edge */\r\n  user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Edge, Opera and Firefox */\r\n}\r\n\r\n.select-permission,\r\n.select-content > div {\r\n  padding: $unnnic-squish-xs;\r\n  background-color: $unnnic-color-neutral-snow;\r\n\r\n  border-radius: $unnnic-border-radius-sm;\r\n  border: $unnnic-border-width-thinner solid $unnnic-color-neutral-soft;\r\n}\r\n.select-permission {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: $unnnic-font-size-body-gt + $unnnic-line-height-medium;\r\n\r\n  cursor: pointer;\r\n  .icon {\r\n    margin-left: $unnnic-spacing-inline-xs;\r\n  }\r\n}\r\n.select-permission-label {\r\n  display: block;\r\n\r\n  color: $unnnic-color-neutral-cloudy;\r\n  margin-bottom: $unnnic-spacing-stack-xs;\r\n\r\n  font-family: $unnnic-font-family-secondary;\r\n  font-size: $unnnic-font-size-body-gt;\r\n  line-height: $unnnic-font-size-body-gt + $unnnic-line-height-medium;\r\n}\r\n\r\n.title {\r\n  font-family: $unnnic-font-family-secondary;\r\n  font-size: $unnnic-font-size-body-gt;\r\n  margin: 0;\r\n  font-weight: $unnnic-font-weight-regular;\r\n  color: $unnnic-color-neutral-dark;\r\n}\r\n\r\n.select-content {\r\n  position: absolute;\r\n  margin-top: $unnnic-spacing-stack-xs;\r\n\r\n  > div {\r\n    box-shadow: $unnnic-shadow-level-near;\r\n    .title {\r\n      margin-bottom: $unnnic-spacing-stack-sm;\r\n    }\r\n\r\n    & section {\r\n      display: flex;\r\n      flex-direction: column;\r\n\r\n      & + h6 {\r\n        margin-top: $unnnic-spacing-stack-sm;\r\n        padding-top: $unnnic-spacing-stack-sm;\r\n        border-top: $unnnic-border-width-thinner solid $unnnic-color-neutral-darkest;\r\n      }\r\n\r\n      strong,\r\n      span {\r\n        display: block;\r\n        font-family: $unnnic-font-family-secondary;\r\n        font-size: $unnnic-font-size-body-gt;\r\n      }\r\n\r\n      strong {\r\n        font-weight: $unnnic-font-weight-regular;\r\n      }\r\n      span {\r\n        font-weight: $unnnic-font-weight-light;\r\n      }\r\n\r\n      .unnnic-radio-container {\r\n        & + .unnnic-radio-container {\r\n          margin-top: $unnnic-spacing-stack-sm;\r\n          padding-top: $unnnic-spacing-stack-sm;\r\n          border-top: $unnnic-border-width-thinner solid $unnnic-color-neutral-lightest;\r\n        }\r\n\r\n        :deep(.unnnic-icon) {\r\n          margin-right: $unnnic-inline-xs;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["_sfc_main","UnnnicIcon","UnnnicRadio","vOnClickOutside","event","indexGroup","indexSelected","item","index","selected","_hoisted_2","_createElementBlock","$props","_hoisted_1","_toDisplayString","_createElementVNode","$options","args","_cache","$event","$data","_createVNode","_component_UnnnicIcon","_withDirectives","_openBlock","_hoisted_3","_Fragment","_renderList","group","indexItem","_createBlock","_component_UnnnicRadio"],"mappings":"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"}