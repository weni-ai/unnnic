{"version":3,"file":"CircleProgressBar.stories-2f0962a6.js","sources":["../../src/components/CircleProgressBar/CircleProgressBar.vue"],"sourcesContent":["<template>\r\n  <div class=\"unnnic-circle-progress-bar\">\r\n    <svg width=\"46\" height=\"46\" class=\"semicircle\">\r\n      <circle\r\n        cx=\"23\"\r\n        cy=\"23\"\r\n        r=\"21\"\r\n        stroke=\"black\"\r\n        stroke-width=\"4px\"\r\n        :class=\"['background', progress === totalProgress ? 'filled' : '']\"\r\n      />\r\n\r\n      <path\r\n        v-show=\"progress < totalProgress && progress > 0\"\r\n        id=\"path\"\r\n        fill=\"none\"\r\n        stroke-linecap=\"round\"\r\n        ref=\"background\"\r\n        class=\"front\"\r\n        stroke-width=\"4px\"\r\n      ></path>\r\n    </svg>\r\n\r\n    <div class=\"content\">{{ progress }}/{{ totalProgress }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  components: {},\r\n\r\n  props: {\r\n    progress: {\r\n      type: Number,\r\n    },\r\n\r\n    totalProgress: {\r\n      type: Number,\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    progressChange: {\r\n      immediate: true,\r\n      handler() {\r\n        function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\r\n          const angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\r\n\r\n          return {\r\n            x: centerX + radius * -Math.cos(angleInRadians),\r\n            y: centerY + radius * -Math.sin(angleInRadians),\r\n          };\r\n        }\r\n\r\n        function describeArc(\r\n          x,\r\n          y,\r\n          innerRadius,\r\n          outerRadius,\r\n          startAngle,\r\n          endAngle,\r\n        ) {\r\n          const radius = innerRadius;\r\n          const spread = outerRadius - innerRadius;\r\n          const outerStart = polarToCartesian(x, y, radius + spread, endAngle);\r\n          const outerEnd = polarToCartesian(x, y, radius + spread, startAngle);\r\n\r\n          const largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\r\n\r\n          const d = [\r\n            'M',\r\n            outerStart.x,\r\n            outerStart.y,\r\n            'A',\r\n            radius + spread,\r\n            radius + spread,\r\n            0,\r\n            largeArcFlag,\r\n            0,\r\n            outerEnd.x,\r\n            outerEnd.y,\r\n          ].join(' ');\r\n\r\n          return d;\r\n        }\r\n\r\n        const value = (this.progress / this.totalProgress) * 360;\r\n\r\n        const path = describeArc(23, 23, 0, 21, 180 - value.toFixed(), 180);\r\n\r\n        this.$nextTick(() => {\r\n          this.$refs.background.setAttribute('d', path);\r\n        });\r\n      },\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    progressChange() {\r\n      return `${this.progress}-${this.totalProgress}`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/scss/unnnic.scss\";\r\n\r\n.unnnic-circle-progress-bar {\r\n  position: relative;\r\n  width: fit-content;\r\n\r\n  .semicircle {\r\n    display: block;\r\n  }\r\n\r\n  .background {\r\n    fill: transparent;\r\n    stroke: rgba($unnnic-color-brand-weni, $unnnic-opacity-level-extra-light);\r\n\r\n    &.filled {\r\n      stroke: $unnnic-color-brand-weni;\r\n    }\r\n  }\r\n\r\n  .front {\r\n    stroke: $unnnic-color-brand-weni;\r\n  }\r\n\r\n  .content {\r\n    position: absolute;\r\n    text-align: center;\r\n    width: 100%;\r\n\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n\r\n    color: $unnnic-color-neutral-cleanest;\r\n    font-family: $unnnic-font-family-secondary;\r\n    font-weight: $unnnic-font-weight-regular;\r\n    font-size: $unnnic-font-size-body-gt;\r\n    line-height: $unnnic-font-size-body-gt + $unnnic-line-height-md;\r\n  }\r\n}\r\n</style>\r\n"],"names":["_sfc_main","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","describeArc","x","y","innerRadius","outerRadius","startAngle","endAngle","spread","outerStart","outerEnd","largeArcFlag","value","path","_hoisted_1","_hoisted_4","_openBlock","_createElementBlock","_hoisted_2","_createElementVNode","_normalizeClass","$props","_withDirectives","_hoisted_3","_toDisplayString"],"mappings":"mJA4BA,MAAKA,EAAU,CACb,WAAY,CAAE,EAEd,MAAO,CACL,SAAU,CACR,KAAM,MACP,EAED,cAAe,CACb,KAAM,MACP,CACF,EAED,MAAO,CACL,eAAgB,CACd,UAAW,GACX,SAAU,CACR,SAASC,EAAiBC,EAASC,EAASC,EAAQC,EAAgB,CAClE,MAAMC,GAAmBD,EAAiB,IAAM,KAAK,GAAM,IAE3D,MAAO,CACL,EAAGH,EAAUE,EAAS,CAAC,KAAK,IAAIE,CAAc,EAC9C,EAAGH,EAAUC,EAAS,CAAC,KAAK,IAAIE,CAAc,EAElD,CAEA,SAASC,EACPC,EACAC,EACAC,EACAC,EACAC,EACAC,EACA,CACA,MAAMT,EAASM,EACTI,EAASH,EAAcD,EACvBK,EAAad,EAAiBO,EAAGC,EAAGL,EAASU,EAAQD,CAAQ,EAC7DG,EAAWf,EAAiBO,EAAGC,EAAGL,EAASU,EAAQF,CAAU,EAE7DK,EAAeJ,EAAWD,GAAc,IAAM,IAAM,IAgB1D,MAdU,CACR,IACAG,EAAW,EACXA,EAAW,EACX,IACAX,EAASU,EACTV,EAASU,EACT,EACAG,EACA,EACAD,EAAS,EACTA,EAAS,GACT,KAAK,GAAG,CAGZ,CAEA,MAAME,EAAS,KAAK,SAAW,KAAK,cAAiB,IAE/CC,EAAOZ,EAAY,GAAI,GAAI,EAAG,GAAI,IAAMW,EAAM,QAAS,EAAE,GAAG,EAElE,KAAK,UAAU,IAAM,CACnB,KAAK,MAAM,WAAW,aAAa,IAAKC,CAAI,CAC9C,CAAC,CACF,CACF,CACF,EAED,SAAU,CACR,gBAAiB,CACf,MAAO,GAAG,KAAK,QAAQ,IAAI,KAAK,aAAa,EAC9C,CACF,CACH,EArGOC,EAAA,CAAA,MAAM,4BAA4B,KAChC,MAAM,KAAK,OAAO,KAAK,MAAM,iBAY9B,GAAG,OACH,KAAK,OACL,iBAAe,QACf,IAAI,aACJ,MAAM,QACN,eAAa,OAIZC,EAAA,CAAA,MAAM,SAAS,0BAtBtB,OAAAC,EAAA,EAAAC,EAuBM,MAvBNH,EAuBM,EAtBJE,IAAAC,EAmBM,MAnBNC,EAmBM,CAlBJC,EAOE,SAAA,CANA,GAAG,KACH,GAAG,KACH,EAAE,KACF,OAAO,QACP,eAAa,MACZ,MAAKC,EAAA,CAAA,aAAiBC,EAAQ,WAAKA,EAAa,cAAA,SAAA,EAAA,CAAA,WAGnDC,EAAAH,EAQQ,OARRI,EAQQ,KAAA,GAAA,EAAA,IAPEF,EAAQ,SAAGA,EAAa,eAAIA,EAAQ,SAAA,CAAA,OAUhDF,EAA6D,MAA7DJ,EAA6DS,EAArCH,UAAQ,EAAG,MAAIA,EAAa,aAAA,EAAA,CAAA;;;;;;;;;;;;"}