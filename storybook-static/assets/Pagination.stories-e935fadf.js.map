{"version":3,"file":"Pagination.stories-e935fadf.js","sources":["../../src/components/Pagination/Pagination.vue"],"sourcesContent":["<template>\r\n  <div class=\"pagination\">\r\n    <unnnic-button\r\n      type=\"terciary\"\r\n      size=\"small\"\r\n      icon-center=\"arrow-left-1-1\"\r\n      :disabled=\"!canPrevious || disabled\"\r\n      @click=\"previousPage\"\r\n    />\r\n\r\n    <unnnic-button\r\n      v-for=\"(page, index) in pages\"\r\n      :key=\"index\"\r\n      :type=\"page === value ? 'secondary' : 'terciary'\"\r\n      size=\"small\"\r\n      :text=\"['left-hidden', 'right-hidden'].includes(page) ? '...' : String(page)\"\r\n      @click=\"selectPage(page)\"\r\n      :disabled=\"disabled\"\r\n    />\r\n\r\n    <unnnic-button\r\n      type=\"terciary\"\r\n      size=\"small\"\r\n      icon-center=\"arrow-right-1-1\"\r\n      :disabled=\"!canNext || disabled\"\r\n      @click=\"nextPage\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport unnnicButton from '../Button/Button.vue';\r\n\r\nexport default {\r\n  components: {\r\n    unnnicButton,\r\n  },\r\n\r\n  props: {\r\n    value: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n\r\n    max: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n\r\n    show: {\r\n      type: Number,\r\n      default: 5,\r\n    },\r\n\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      reference: 3,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    pages() {\r\n      const pages = [];\r\n\r\n      for (let i = 1; i <= this.max; i += 1) {\r\n        pages.push(i);\r\n      }\r\n\r\n      const plus = this.show - 4;\r\n      const maxToRemove = this.max - plus - 3;\r\n\r\n      if (this.reference > 3) {\r\n        const toRemove = (this.reference - 2);\r\n        const maxRemove = toRemove > maxToRemove ? maxToRemove : toRemove;\r\n        pages.splice(1, maxRemove, 'left-hidden');\r\n      }\r\n\r\n      if (this.reference < this.max - plus - 1) {\r\n        const toRemove = (this.max - plus - this.reference);\r\n        const maxRemove = toRemove > maxToRemove ? maxToRemove : toRemove;\r\n        pages.splice(-(maxRemove + 1), maxRemove, 'right-hidden');\r\n      }\r\n\r\n      return pages;\r\n    },\r\n\r\n    canPrevious() {\r\n      return this.value > 1;\r\n    },\r\n\r\n    canNext() {\r\n      return this.value < this.max;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    selectPage(page) {\r\n      if (page === 'left-hidden') {\r\n        const pageNumber = this.pages[this.pages.indexOf('left-hidden') + 1] - 1;\r\n\r\n        this.$emit('input', pageNumber);\r\n        this.setReference(pageNumber);\r\n      } else if (page === 'right-hidden') {\r\n        const pageNumber = this.pages[this.pages.indexOf('right-hidden') - 1] + 1;\r\n\r\n        this.$emit('input', pageNumber);\r\n\r\n        if (this.pages.includes('left-hidden')) {\r\n          this.setReference(this.pages[this.pages.indexOf('left-hidden') + 1] + 1);\r\n        } else {\r\n          this.setReference(4);\r\n        }\r\n      } else {\r\n        this.$emit('input', page);\r\n      }\r\n    },\r\n\r\n    previousPage() {\r\n      if (this.canPrevious) {\r\n        const pageNumber = this.value - 1;\r\n\r\n        this.selectPage(pageNumber);\r\n\r\n        if (!this.pages.includes(pageNumber)) {\r\n          this.setReference(pageNumber);\r\n        }\r\n      }\r\n    },\r\n\r\n    nextPage() {\r\n      if (this.canNext) {\r\n        const pageNumber = this.value + 1;\r\n\r\n        this.selectPage(pageNumber);\r\n\r\n        if (!this.pages.includes(pageNumber)) {\r\n          this.setReference(pageNumber);\r\n        }\r\n      }\r\n    },\r\n\r\n    setReference(reference) {\r\n      this.reference = reference;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/scss/unnnic.scss\";\r\n\r\n.pagination {\r\n  display: flex;\r\n  align-items: center;\r\n  column-gap: $unnnic-spacing-inline-xs;\r\n  user-select: none;\r\n}\r\n</style>\r\n"],"names":["_sfc_main","unnnicButton","pages","i","plus","maxToRemove","toRemove","maxRemove","page","pageNumber","reference","_hoisted_1","_openBlock","_createElementBlock","_createVNode","_component_unnnic_button","$options","$props","_Fragment","_renderList","index","_createBlock","$event"],"mappings":"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"}