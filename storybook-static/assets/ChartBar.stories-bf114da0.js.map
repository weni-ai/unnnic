{"version":3,"file":"ChartBar.stories-bf114da0.js","sources":["../../src/components/ChartBar/ChartBar.vue"],"sourcesContent":["<template>\r\n  <div :class=\"['unnnic-chart-bar', { condensed }]\">\r\n    <div\r\n      v-if=\"title || description || $attrs.update || $attrs.previous || $attrs.next\"\r\n      class=\"header\"\r\n    >\r\n      <div v-if=\"title || description\" class=\"content\">\r\n        <div\r\n          v-if=\"title\"\r\n          @click=\"$emit('update')\"\r\n          class=\"title unnnic-font bold title-sm color-neutral-darkest\"\r\n        >\r\n          {{ title }}\r\n        </div>\r\n\r\n        <div\r\n          v-if=\"description\"\r\n          class=\"description unnnic-font secondary body-gt color-neutral-cloudy\"\r\n        >\r\n          {{ description }}\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"$attrs.update || $attrs.previous || $attrs.next\" class=\"actions\">\r\n        <div v-if=\"$attrs.update\" class=\"update-button\" @click=\"$emit('update')\">\r\n          <unnnic-icon icon=\"button-refresh-arrow-1\" size=\"sm\" scheme=\"neutral-darkest\" />\r\n\r\n          <span v-if=\"updateText\" class=\"unnnic-font secondary body-md color-neutral-dark\">\r\n            {{ updateText }}\r\n          </span>\r\n        </div>\r\n\r\n        <div v-if=\"$attrs.previous || $attrs.next\" class=\"navigation-container\">\r\n          <unnnic-button\r\n            v-if=\"$attrs.previous\"\r\n            @click=\"$emit('previous')\"\r\n            size=\"small\"\r\n            type=\"terciary\"\r\n            icon-center=\"arrow-left-1-1\"\r\n            :disabled=\"previousDisabled\"\r\n          ></unnnic-button>\r\n\r\n          <unnnic-button\r\n            v-if=\"$attrs.next\"\r\n            @click=\"$emit('next')\"\r\n            size=\"small\"\r\n            type=\"terciary\"\r\n            icon-center=\"arrow-right-1-1\"\r\n            :disabled=\"nextDisabled\"\r\n          ></unnnic-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"main\">\r\n      <div class=\"reference\">\r\n        <div class=\"values\">\r\n          <div\r\n            v-for=\"(value, index) in [value(maxValue), value(maxValue / 2), value(0)]\"\r\n            :key=\"index\"\r\n            class=\"value unnnic-font secondary body-md color-neutral-cleanest\"\r\n          >\r\n            {{ value }}\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"unnnic-font secondary body-md color-neutral-cleanest\">&nbsp;</div>\r\n      </div>\r\n\r\n      <div class=\"groups\">\r\n        <div v-for=\"(group, index) in groups\" :key=\"index\" class=\"group\">\r\n          <div class=\"bars\">\r\n            <unnnic-tool-tip\r\n              enabled\r\n              v-for=\"({ legend, index }) in legends\r\n                .map((legend, index) => ({ legend, index }))\r\n                .filter(({ legend }) => group.values[legend])\"\r\n              :key=\"index\"\r\n              :text=\"`${group.title}: ${group.values[legend]}\\n${legend}`\"\r\n              side=\"top\"\r\n              :style=\"{ height: `${(group.values[legend] / maxValue) * 100}%` }\"\r\n            >\r\n              <div\r\n                :class=\"['bar', `color-${index}`]\"\r\n\r\n              ></div>\r\n            </unnnic-tool-tip>\r\n          </div>\r\n\r\n          <div class=\"title unnnic-font secondary body-md color-neutral-cleanest\">\r\n            {{ group.title }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"showFooterLegend\" class=\"footer\">\r\n      <div v-for=\"(legend, index) in legends\" :key=\"index\" class=\"legend\">\r\n        <unnnic-icon icon=\"indicator\" :scheme=\"colors[index]\" />\r\n        <div class=\"unnnic-font secondary body-gt color-neutral-cloudy\">{{ legend }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UnnnicIcon from '../Icon.vue';\r\nimport UnnnicButton from '../Button/Button.vue';\r\nimport UnnnicToolTip from '../ToolTip/ToolTip.vue';\r\n\r\nexport default {\r\n  components: {\r\n    UnnnicIcon,\r\n    UnnnicButton,\r\n    UnnnicToolTip,\r\n  },\r\n\r\n  props: {\r\n    condensed: Boolean,\r\n    groups: Array,\r\n    fixedMaxValue: Number,\r\n    title: String,\r\n    description: String,\r\n    updateText: String,\r\n    previousDisabled: Boolean,\r\n    nextDisabled: Boolean,\r\n    showFooterLegend: Boolean,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      colors: [\r\n        'aux-blue',\r\n        'aux-purple',\r\n        'aux-orange',\r\n        'aux-lemon',\r\n        'aux-pink',\r\n        'aux-baby-blue',\r\n        'aux-baby-yellow',\r\n        'aux-baby-red',\r\n        'aux-baby-green',\r\n        'aux-baby-pink',\r\n      ],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    legends() {\r\n      return this.groups\r\n        .map(({ values }) => Object.keys(values))\r\n        .flat()\r\n        .filter((value, index, self) => self.indexOf(value) === index);\r\n    },\r\n\r\n    maxValue() {\r\n      return this.fixedMaxValue || Math.max(\r\n        ...this.groups\r\n          .map(({ values }) => Object.values(values))\r\n          .flat(),\r\n      );\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    value(value) {\r\n      if (this.maxValue <= 1) {\r\n        return value.toFixed(1);\r\n      }\r\n\r\n      return String(Math.ceil(value));\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../assets/scss/unnnic.scss';\r\n\r\n.unnnic-chart-bar {\r\n  background-color: $unnnic-color-background-snow;\r\n  border-radius: $unnnic-border-radius-md;\r\n  padding: $unnnic-spacing-inset-md;\r\n  min-width: 15.5625 * $unnnic-font-size;\r\n  box-sizing: border-box;\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n  row-gap: $unnnic-spacing-stack-lg;\r\n  outline-style: solid;\r\n  outline-color: $unnnic-color-neutral-soft;\r\n  outline-width: $unnnic-border-width-thinner;\r\n  outline-offset: -$unnnic-border-width-thinner;\r\n\r\n  &.condensed {\r\n    padding: $unnnic-spacing-inset-sm;\r\n    row-gap: $unnnic-spacing-stack-sm;\r\n\r\n    .main .groups {\r\n      column-gap: $unnnic-spacing-inline-nano;\r\n    }\r\n\r\n    .main .reference {\r\n      margin-right: $unnnic-spacing-inline-sm;\r\n    }\r\n  }\r\n\r\n  .header {\r\n    display: flex;\r\n    column-gap: $unnnic-spacing-inline-xs;\r\n    align-items: center;\r\n\r\n    .content {\r\n      display: flex;\r\n      flex-direction: column;\r\n      row-gap: $unnnic-spacing-stack-nano;\r\n      flex: 1;\r\n    }\r\n\r\n    .actions {\r\n      margin: 0 auto;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n\r\n      .update-button {\r\n        padding: $unnnic-spacing-inset-nano;\r\n        cursor: pointer;\r\n        user-select: none;\r\n        display: flex;\r\n        column-gap: $unnnic-spacing-inline-nano;\r\n        justify-content: center;\r\n\r\n        .unnnic-icon {\r\n          width: $unnnic-icon-size-ant;\r\n          height: $unnnic-icon-size-ant;\r\n        }\r\n      }\r\n\r\n      .navigation-container {\r\n        display: flex;\r\n        column-gap: $unnnic-spacing-inline-nano;\r\n        width: 100%;\r\n\r\n        > * {\r\n          flex: 1;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .main {\r\n    height: 16 * $unnnic-font-size;\r\n    display: flex;\r\n    justify-content: center;\r\n\r\n    .groups {\r\n      display: flex;\r\n      column-gap: $unnnic-spacing-inline-lg;\r\n\r\n      .group {\r\n        min-width: 4 * $unnnic-font-size;\r\n        display: flex;\r\n        flex-direction: column;\r\n        row-gap: $unnnic-spacing-stack-sm;\r\n\r\n        .bars {\r\n          flex: 1;\r\n          display: flex;\r\n          align-items: flex-end;\r\n          justify-content: center;\r\n          column-gap: $unnnic-spacing-inline-xs;\r\n\r\n          .bar {\r\n            width: 1 * $unnnic-font-size;\r\n            height: 100%;\r\n            border-radius: $unnnic-border-radius-sm;\r\n\r\n            $colors:\r\n              \"0\" $unnnic-color-aux-blue,\r\n              \"1\" $unnnic-color-aux-purple,\r\n              \"2\" $unnnic-color-aux-orange,\r\n              \"3\" $unnnic-color-aux-lemon,\r\n              \"4\" $unnnic-color-aux-pink,\r\n\r\n              \"5\" $unnnic-color-aux-baby-blue,\r\n              \"6\" $unnnic-color-aux-baby-yellow,\r\n              \"7\" $unnnic-color-aux-baby-red,\r\n              \"8\" $unnnic-color-aux-baby-green,\r\n              \"9\" $unnnic-color-aux-baby-pink;\r\n\r\n            @each $name, $color in $colors {\r\n              &.color-#{$name} {\r\n                background-color: $color;\r\n\r\n                &:hover {\r\n                  outline-style: solid;\r\n                  outline-color: rgba($color, $unnnic-opacity-level-clear);\r\n                  outline-width: $unnnic-border-width-thick;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        .title {\r\n          text-align: center;\r\n        }\r\n      }\r\n    }\r\n\r\n    .reference {\r\n      display: flex;\r\n      flex-direction: column;\r\n      row-gap: $unnnic-spacing-stack-sm;\r\n      margin-right: $unnnic-spacing-inline-md;\r\n\r\n      .values {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        text-align: right;\r\n      }\r\n    }\r\n  }\r\n\r\n  .footer {\r\n    display: flex;\r\n    column-gap: $unnnic-spacing-inline-sm;\r\n\r\n    .legend {\r\n      flex: 1;\r\n      display: flex;\r\n      column-gap: $unnnic-spacing-inline-nano;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n  }\r\n}\r\n\r\n@each $name, $color in $scheme-colors {\r\n  .color-#{$name} {\r\n    color: $color;\r\n  }\r\n\r\n  .bg-#{$name} {\r\n    background-color: $color;\r\n  }\r\n}\r\n\r\n.unnnic-font {\r\n  font-weight: $unnnic-font-weight-regular;\r\n  font-family: $unnnic-font-family-primary;\r\n\r\n  $font-sizes:\r\n    \"body-sm\" $unnnic-font-size-body-sm,\r\n    \"body-md\" $unnnic-font-size-body-md,\r\n    \"body-gt\" $unnnic-font-size-body-gt,\r\n    \"body-lg\" $unnnic-font-size-body-lg,\r\n\r\n    \"title-sm\" $unnnic-font-size-title-sm,\r\n    \"title-md\" $unnnic-font-size-title-md,\r\n    \"title-lg\" $unnnic-font-size-title-lg,\r\n\r\n    \"h4\" $unnnic-font-size-h4,\r\n    \"h3\" $unnnic-font-size-h3,\r\n    \"h2\" $unnnic-font-size-h2,\r\n    \"h1\" $unnnic-font-size-h1;\r\n\r\n  $font-weights:\r\n    \"black\" $unnnic-font-weight-black,\r\n    \"bold\" $unnnic-font-weight-bold,\r\n    \"light\" $unnnic-font-weight-light;\r\n\r\n  &.secondary {\r\n    font-family: $unnnic-font-family-secondary;\r\n  }\r\n\r\n  @each $name, $size in $font-sizes {\r\n    &.#{$name} {\r\n      font-size: $size;\r\n      line-height: $size + $unnnic-line-height-md;\r\n    }\r\n  }\r\n\r\n  @each $name, $weight in $font-weights {\r\n    &.#{$name} {\r\n      font-weight: $weight;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["_sfc_main","UnnnicIcon","UnnnicButton","UnnnicToolTip","values","value","index","self","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_withScopeId","_createElementVNode","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_15","_createElementBlock","$props","_ctx","_openBlock","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","_hoisted_4","_createVNode","_component_unnnic_icon","_hoisted_5","_hoisted_6","_createBlock","_component_unnnic_button","_Fragment","_renderList","$options","group","legend","_component_unnnic_tool_tip","_hoisted_14","$data"],"mappings":"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"}