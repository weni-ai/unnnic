import{B as I,C as P,D as M,E as j,G as H,H as R,I as E,w as _,J as T}from"./vue.esm-bundler-fb65849e.js";function b(e){return I()?(P(e),!0):!1}function w(e){return typeof e=="function"?e():M(e)}const C=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const B=Object.prototype.toString,G=e=>B.call(e)==="[object Object]",h=()=>{},O=N();function N(){var e,t;return C&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const S={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function Y(...e){if(e.length!==1)return j(...e);const t=e[0];return typeof t=="function"?H(R(()=>({get:t,set:h}))):E(t)}function m(e){var t;const o=w(e);return(t=o==null?void 0:o.$el)!=null?t:o}const W=C?window:void 0;function g(...e){let t,o,n,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,n,l]=e,t=W):[t,o,n,l]=e,!t)return h;Array.isArray(o)||(o=[o]),Array.isArray(n)||(n=[n]);const a=[],d=()=>{a.forEach(f=>f()),a.length=0},i=(f,v,r,u)=>(f.addEventListener(v,r,u),()=>f.removeEventListener(v,r,u)),s=_(()=>[m(t),w(l)],([f,v])=>{if(d(),!f)return;const r=G(v)?{...v}:v;a.push(...o.flatMap(u=>n.map(c=>i(f,u,c,r))))},{immediate:!0,flush:"post"}),p=()=>{s(),d()};return b(p),p}let A=!1;function L(e,t,o={}){const{window:n=W,ignore:l=[],capture:a=!0,detectIframe:d=!1}=o;if(!n)return h;O&&!A&&(A=!0,Array.from(n.document.body.children).forEach(r=>r.addEventListener("click",h)),n.document.documentElement.addEventListener("click",h));let i=!0;const s=r=>l.some(u=>{if(typeof u=="string")return Array.from(n.document.querySelectorAll(u)).some(c=>c===r.target||r.composedPath().includes(c));{const c=m(u);return c&&(r.target===c||r.composedPath().includes(c))}}),f=[g(n,"click",r=>{const u=m(e);if(!(!u||u===r.target||r.composedPath().includes(u))){if(r.detail===0&&(i=!s(r)),!i){i=!0;return}t(r)}},{passive:!0,capture:a}),g(n,"pointerdown",r=>{const u=m(e);i=!s(r)&&!!(u&&!r.composedPath().includes(u))},{passive:!0}),d&&g(n,"blur",r=>{setTimeout(()=>{var u;const c=m(e);((u=n.document.activeElement)==null?void 0:u.tagName)==="IFRAME"&&!(c!=null&&c.contains(n.document.activeElement))&&t(r)},0)})].filter(Boolean);return()=>f.forEach(r=>r())}const F={[S.mounted](e,t){const o=!t.modifiers.bubble;if(typeof t.value=="function")e.__onClickOutside_stop=L(e,t.value,{capture:o});else{const[n,l]=t.value;e.__onClickOutside_stop=L(e,n,Object.assign({capture:o},l))}},[S.unmounted](e){e.__onClickOutside_stop()}};function k(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function D(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:D(o)}}function x(e){const t=e||window.event,o=t.target;return D(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const y=new WeakMap;function X(e,t=!1){const o=E(t);let n=null,l;_(Y(e),i=>{const s=k(w(i));if(s){const p=s;y.get(p)||y.set(p,l),o.value&&(p.style.overflow="hidden")}},{immediate:!0});const a=()=>{const i=k(w(e));!i||o.value||(O&&(n=g(i,"touchmove",s=>{x(s)},{passive:!1})),i.style.overflow="hidden",o.value=!0)},d=()=>{var i;const s=k(w(e));!s||!o.value||(O&&(n==null||n()),s.style.overflow=(i=y.get(s))!=null?i:"",y.delete(s),o.value=!1)};return b(d),T({get(){return o.value},set(i){i?a():d()}})}function $(){let e=!1;const t=E(!1);return(o,n)=>{if(t.value=n.value,e)return;e=!0;const l=X(o,n.value);_(t,a=>l.value=a)}}$();export{F as v};
